import{_ as A}from"./PrimaryButton-3cf9a7d1.js";import{_ as D}from"./Checkbox-5204c7b6.js";import{_ as O,a as U}from"./TextInput-a37e9c66.js";import{D as E}from"./index-cc0e1c3b.js";import"./moment-fbc5633a.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{r as g,o as i,c as n,b as e,F as f,e as y,a as l,w as C,n as Y,t as x,f as v,d as I}from"./app-f7a59c7f.js";const T={name:"WorkingDays",components:{PrimaryButton:A,Checkbox:D,InputLabel:O,TextInput:U,DatePicker:E},props:{user:[Object],stores:[Object,Array],settings:[Object,Array]},data(){var d,s,a,p;return{processing:!1,hiddenStores:((d=this.settings)==null?void 0:d.hiddenStores)??[],workDays:((s=this.settings)==null?void 0:s.workdays)??[],hideAgeDescription:((a=this.settings)==null?void 0:a.hideAgeDescription)??!1,storesSettings:this.getStoreSettings(this.stores),ageGroups:((p=this.settings)==null?void 0:p.ageGroups)??{earlyYouth:"Early Youth",youth:"Youth",middleAge:"Middle Age",middleOld:"Middle Old",elderly:"Elderly"},formError:!1,response:{errors:!1,message:""}}},methods:{getStoreSettings(d){return d.map(s=>{var p,o;s.settings=s.settings??{daysoff:null,workdays:null};let a=[];return this.days.forEach((_,r)=>{a.push({dayOfWeek:r,timeStart:new Date().setHours(0,0,0,0),timeEnd:new Date().setHours(23,59,59,999)})}),s.settings.daysoff=((p=s.settings)==null?void 0:p.daysoff)??[],s.settings.workdays=((o=s.settings)==null?void 0:o.workdays)??a,s})},updateSettings(){this.processing=!0,this.response.message="",axios.post(route("profile.settings.update"),{storesSettings:this.storesSettings,ageGroups:this.ageGroups,hideAgeDescription:this.hideAgeDescription,hiddenStores:this.hiddenStores,user:this.user}).then(d=>{this.processing=!1,this.response=d.data})},updateDays(d,s){d.settings.daysoff.includes(s)?d.settings.daysoff.splice(d.settings.daysoff.indexOf(s),1):d.settings.daysoff.push(s)},updateHiddenStores(d){this.hiddenStores.includes(d)?this.hiddenStores.splice(this.hiddenStores.indexOf(d),1):this.hiddenStores.push(d)}},setup(){return{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}},W=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900"},"Rename Stores")],-1),B={class:"flex items-center gap-4 mt-4 mb-6"},q={class:"mb-2"},H={key:0,class:"text-red-500"},L=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900"},"Hide Stores for user")],-1),M={class:"flex items-center gap-4 mt-4"},j={class:"flex items-center"},F={class:"ms-2 text-sm text-gray-600"},N={class:"flex gap-x-10 flex-wrap"},P=e("header",{class:"w-full mt-8"},[e("h1",{class:"text-lg font-medium text-gray-900"},"Select your working days and time."),e("p",{class:"mt-1 text-sm text-gray-600"}," Everything that will be disabled will not be counted in dashboard. ")],-1),z={class:"mt-8"},R={class:"text-xl font-bold text-gray-900"},J=e("div",{class:"text-md font-medium text-gray-900"},"Schedule",-1),K={class:"gap-4 mt-4 w-auto"},Q={class:"grid grid-cols-3 w-max gap-2 items-center mb-2"},X={class:"flex items-center col-span-1"},Z={class:"ms-2 text-sm text-gray-600"},$={class:"grid grid-cols-2 gap-4 mb-4 col-span-2 relative",style:{direction:"ltr"}},ee={key:0,class:"absolute flex items-center justify-center col-span-2 opacity-80 left-0 top-0 w-full h-full z-20 bg-white font-semibold text-red-700"},te={class:"text-center"},se=e("div",{class:"font-semibold"},"From time",-1),oe={class:"text-center"},le=e("div",{class:"font-semibold"},"To time",-1),de=e("header",{class:"mt-8"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Title for age groups."),e("p",{class:"mt-1 text-sm text-gray-600"}," Change the titles for age groups in dount chart. ")],-1),ie={class:"max-w-lg mt-4"},ne={class:"flex items-center mb-4"},ae=e("span",{class:"ms-2 text-sm text-gray-600"},"Hide age description. (age range)",-1),re={class:"mb-2"},ue={class:"mb-2"},ce={class:"mb-2"},me={class:"mb-2"},pe={class:"mb-2"};function he(d,s,a,p,o,_){const r=g("InputLabel"),h=g("TextInput"),k=g("Checkbox"),S=g("date-picker"),w=g("PrimaryButton");return i(),n(f,null,[W,e("div",B,[(i(!0),n(f,null,y(o.storesSettings,(t,V)=>(i(),n("div",q,[l(r,{for:`store-${t.id}`,value:a.stores.find(u=>u.id===t.id).name},null,8,["for","value"]),l(h,{id:`store-${t.id}`,type:"text",class:"mt-1 block w-full",onInput:s[0]||(s[0]=u=>{this.formError=u.target.value<3}),modelValue:t.name,"onUpdate:modelValue":u=>t.name=u,required:""},null,8,["id","modelValue","onUpdate:modelValue"]),t.name.length<3?(i(),n("p",H,"Store name can't be less than 3 characters.")):v("",!0)]))),256))]),L,e("div",M,[(i(!0),n(f,null,y(a.stores,(t,V)=>(i(),n("label",j,[l(k,{name:"hidden_stores","onUpdate:checked":u=>_.updateHiddenStores(t.dep_id),value:t.dep_id,checked:o.hiddenStores.includes(t.dep_id)},null,8,["onUpdate:checked","value","checked"]),e("span",F,x(t.name),1)]))),256))]),e("div",N,[P,(i(!0),n(f,null,y(o.storesSettings,(t,V)=>(i(),n("div",null,[e("header",z,[e("h2",R,x(t.name),1),J]),e("div",K,[(i(!0),n(f,null,y(p.days,(u,c)=>(i(),n("div",Q,[e("label",X,[l(k,{name:"off_days","onUpdate:checked":m=>_.updateDays(t,c),value:c,checked:!t.settings.daysoff.includes(c)},null,8,["onUpdate:checked","value","checked"]),e("span",Z,x(u),1)]),e("div",$,[t.settings.daysoff.includes(c)?(i(),n("div",ee,"DISABLED")):v("",!0),e("div",te,[se,l(S,{modelValue:t.settings.workdays.find(m=>m.dayOfWeek===c).timeStart,"onUpdate:modelValue":m=>t.settings.workdays.find(b=>b.dayOfWeek===c).timeStart=m,mode:"time",is24hr:""},null,8,["modelValue","onUpdate:modelValue"])]),e("div",oe,[le,l(S,{modelValue:t.settings.workdays.find(m=>m.dayOfWeek===c).timeEnd,"onUpdate:modelValue":m=>t.settings.workdays.find(b=>b.dayOfWeek===c).timeEnd=m,mode:"time",is24hr:""},null,8,["modelValue","onUpdate:modelValue"])])])]))),256))])]))),256))]),de,e("div",ie,[e("label",ne,[l(k,{name:"hide_age_description","onUpdate:checked":s[1]||(s[1]=t=>o.hideAgeDescription=!o.hideAgeDescription),checked:o.hideAgeDescription},null,8,["checked"]),ae]),e("div",re,[l(r,{for:"earlyYouth",value:"Early Youth"}),l(h,{id:"earlyYouth",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.earlyYouth,"onUpdate:modelValue":s[2]||(s[2]=t=>o.ageGroups.earlyYouth=t),required:""},null,8,["modelValue"])]),e("div",ue,[l(r,{for:"youth",value:"Youth"}),l(h,{id:"youth",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.youth,"onUpdate:modelValue":s[3]||(s[3]=t=>o.ageGroups.youth=t),required:""},null,8,["modelValue"])]),e("div",ce,[l(r,{for:"middleAge",value:"Middle Age"}),l(h,{id:"middleAge",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.middleAge,"onUpdate:modelValue":s[4]||(s[4]=t=>o.ageGroups.middleAge=t),required:""},null,8,["modelValue"])]),e("div",me,[l(r,{for:"middleAge",value:"Middle Old"}),l(h,{id:"middleOld",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.middleOld,"onUpdate:modelValue":s[5]||(s[5]=t=>o.ageGroups.middleOld=t),required:""},null,8,["modelValue"])]),e("div",pe,[l(r,{for:"elderly",value:"Elderly"}),l(h,{id:"elderly",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.elderly,"onUpdate:modelValue":s[6]||(s[6]=t=>o.ageGroups.elderly=t),required:""},null,8,["modelValue"])])]),l(w,{class:"mt-2",onClick:_.updateSettings,disabled:o.processing||o.formError},{default:C(()=>[I("Save")]),_:1},8,["onClick","disabled"]),o.response.message.length>0?(i(),n("p",{key:0,class:Y(`${o.response.errors===!0?"text-red-500":"text-green-500"}`)},x(o.response.message),3)):v("",!0)],64)}const ve=G(T,[["render",he]]);export{ve as default};
