import{_ as C}from"./PrimaryButton-a935a37a.js";import{_ as D}from"./Checkbox-c3568a82.js";import{_ as A}from"./InputLabel-57feda78.js";import{_ as U}from"./TextInput-f3aa56d7.js";import{D as O}from"./index-1f3a8309.js";import"./moment-fbc5633a.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{r as g,o as i,c as n,b as e,F as f,e as x,a as l,w as G,n as F,t as b,f as v,d as Y}from"./app-e8d2e45e.js";const I={name:"WorkingDays",components:{PrimaryButton:C,Checkbox:D,InputLabel:A,TextInput:U,DatePicker:O},props:{user:[Object],stores:[Object,Array],settings:[Object,Array]},data(){var d,t,a,h,o;return{processing:!1,hiddenStores:((d=this.settings)==null?void 0:d.hiddenStores)??[],workDays:((t=this.settings)==null?void 0:t.workdays)??[],hideAgeDescription:((a=this.settings)==null?void 0:a.hideAgeDescription)??!1,disableChildFromConversion:((h=this.settings)==null?void 0:h.disableChildFromConversion)??!1,storesSettings:this.getStoreSettings(this.stores),ageGroups:((o=this.settings)==null?void 0:o.ageGroups)??{earlyYouth:"Early Youth",youth:"Youth",middleAge:"Middle Age",middleOld:"Middle Old",elderly:"Elderly"},formError:!1,response:{errors:!1,message:""}}},methods:{getStoreSettings(d){return d.map(t=>{var h,o;t.settings=t.settings??{daysoff:null,workdays:null};let a=[];return this.days.forEach((_,r)=>{a.push({dayOfWeek:r,timeStart:new Date().setHours(0,0,0,0),timeEnd:new Date().setHours(23,59,59,999)})}),t.settings.daysoff=((h=t.settings)==null?void 0:h.daysoff)??[],t.settings.workdays=((o=t.settings)==null?void 0:o.workdays)??a,t})},updateSettings(){this.processing=!0,this.response.message="",axios.post(route("profile.settings.update"),{storesSettings:this.storesSettings,ageGroups:this.ageGroups,hideAgeDescription:this.hideAgeDescription,disableChildFromConversion:this.disableChildFromConversion,hiddenStores:this.hiddenStores,user:this.user}).then(d=>{this.processing=!1,this.response=d.data})},updateDays(d,t){d.settings.daysoff.includes(t)?d.settings.daysoff.splice(d.settings.daysoff.indexOf(t),1):d.settings.daysoff.push(t)},updateHiddenStores(d){this.hiddenStores.includes(d)?this.hiddenStores.splice(this.hiddenStores.indexOf(d),1):this.hiddenStores.push(d)}},setup(){return{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}},T=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900"},"Rename Stores")],-1),W={class:"flex items-center gap-4 mt-4 mb-6"},B={class:"mb-2"},q={key:0,class:"text-red-500"},H=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900"},"Hide Stores for user")],-1),L={class:"flex items-center gap-4 mt-4"},M={class:"flex items-center"},j={class:"ms-2 text-sm text-gray-600"},N={class:"flex gap-x-10 flex-wrap"},P=e("header",{class:"w-full mt-8"},[e("h1",{class:"text-lg font-medium text-gray-900"},"Select your working days and time."),e("p",{class:"mt-1 text-sm text-gray-600"}," Everything that will be disabled will not be counted in dashboard. ")],-1),z={class:"mt-8"},R={class:"text-xl font-bold text-gray-900"},J=e("div",{class:"text-md font-medium text-gray-900"},"Schedule",-1),K={class:"gap-4 mt-4 w-auto"},Q={class:"grid grid-cols-3 w-max gap-2 items-center mb-2"},X={class:"flex items-center col-span-1"},Z={class:"ms-2 text-sm text-gray-600"},$={class:"grid grid-cols-2 gap-4 mb-4 col-span-2 relative",style:{direction:"ltr"}},ee={key:0,class:"absolute flex items-center justify-center col-span-2 opacity-80 left-0 top-0 w-full h-full z-20 bg-white font-semibold text-red-700"},se={class:"text-center"},te=e("div",{class:"font-semibold"},"From time",-1),oe={class:"text-center"},le=e("div",{class:"font-semibold"},"To time",-1),de=e("header",{class:"mt-8"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Title for age groups."),e("p",{class:"mt-1 text-sm text-gray-600"}," Change the titles for age groups in dount chart. ")],-1),ie={class:"max-w-lg mt-4"},ne={class:"flex items-center mb-4"},ae=e("span",{class:"ms-2 text-sm text-gray-600"},"Disable children from conversion rate calculation.",-1),re={class:"flex items-center mb-4"},ue=e("span",{class:"ms-2 text-sm text-gray-600"},"Hide age description. (age range)",-1),ce={class:"mb-2"},me={class:"mb-2"},he={class:"mb-2"},pe={class:"mb-2"},ge={class:"mb-2"};function fe(d,t,a,h,o,_){const r=g("InputLabel"),p=g("TextInput"),y=g("Checkbox"),S=g("date-picker"),w=g("PrimaryButton");return i(),n(f,null,[T,e("div",W,[(i(!0),n(f,null,x(o.storesSettings,(s,V)=>(i(),n("div",B,[l(r,{for:`store-${s.id}`,value:a.stores.find(u=>u.id===s.id).name},null,8,["for","value"]),l(p,{id:`store-${s.id}`,type:"text",class:"mt-1 block w-full",onInput:t[0]||(t[0]=u=>{this.formError=u.target.value<3}),modelValue:s.name,"onUpdate:modelValue":u=>s.name=u,required:""},null,8,["id","modelValue","onUpdate:modelValue"]),s.name.length<3?(i(),n("p",q,"Store name can't be less than 3 characters.")):v("",!0)]))),256))]),H,e("div",L,[(i(!0),n(f,null,x(a.stores,(s,V)=>(i(),n("label",M,[l(y,{name:"hidden_stores","onUpdate:checked":u=>_.updateHiddenStores(s.dep_id),value:s.dep_id,checked:o.hiddenStores.includes(s.dep_id)},null,8,["onUpdate:checked","value","checked"]),e("span",j,b(s.name),1)]))),256))]),e("div",N,[P,(i(!0),n(f,null,x(o.storesSettings,(s,V)=>(i(),n("div",null,[e("header",z,[e("h2",R,b(s.name),1),J]),e("div",K,[(i(!0),n(f,null,x(h.days,(u,c)=>(i(),n("div",Q,[e("label",X,[l(y,{name:"off_days","onUpdate:checked":m=>_.updateDays(s,c),value:c,checked:!s.settings.daysoff.includes(c)},null,8,["onUpdate:checked","value","checked"]),e("span",Z,b(u),1)]),e("div",$,[s.settings.daysoff.includes(c)?(i(),n("div",ee,"DISABLED")):v("",!0),e("div",se,[te,l(S,{modelValue:s.settings.workdays.find(m=>m.dayOfWeek===c).timeStart,"onUpdate:modelValue":m=>s.settings.workdays.find(k=>k.dayOfWeek===c).timeStart=m,mode:"time",is24hr:""},null,8,["modelValue","onUpdate:modelValue"])]),e("div",oe,[le,l(S,{modelValue:s.settings.workdays.find(m=>m.dayOfWeek===c).timeEnd,"onUpdate:modelValue":m=>s.settings.workdays.find(k=>k.dayOfWeek===c).timeEnd=m,mode:"time",is24hr:""},null,8,["modelValue","onUpdate:modelValue"])])])]))),256))])]))),256))]),de,e("div",ie,[e("label",ne,[l(y,{name:"hide_age_description","onUpdate:checked":t[1]||(t[1]=s=>o.disableChildFromConversion=!o.disableChildFromConversion),checked:o.disableChildFromConversion},null,8,["checked"]),ae]),e("label",re,[l(y,{name:"hide_age_description","onUpdate:checked":t[2]||(t[2]=s=>o.hideAgeDescription=!o.hideAgeDescription),checked:o.hideAgeDescription},null,8,["checked"]),ue]),e("div",ce,[l(r,{for:"earlyYouth",value:"Early Youth"}),l(p,{id:"earlyYouth",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.earlyYouth,"onUpdate:modelValue":t[3]||(t[3]=s=>o.ageGroups.earlyYouth=s),required:""},null,8,["modelValue"])]),e("div",me,[l(r,{for:"youth",value:"Youth"}),l(p,{id:"youth",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.youth,"onUpdate:modelValue":t[4]||(t[4]=s=>o.ageGroups.youth=s),required:""},null,8,["modelValue"])]),e("div",he,[l(r,{for:"middleAge",value:"Middle Age"}),l(p,{id:"middleAge",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.middleAge,"onUpdate:modelValue":t[5]||(t[5]=s=>o.ageGroups.middleAge=s),required:""},null,8,["modelValue"])]),e("div",pe,[l(r,{for:"middleAge",value:"Middle Old"}),l(p,{id:"middleOld",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.middleOld,"onUpdate:modelValue":t[6]||(t[6]=s=>o.ageGroups.middleOld=s),required:""},null,8,["modelValue"])]),e("div",ge,[l(r,{for:"elderly",value:"Elderly"}),l(p,{id:"elderly",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.elderly,"onUpdate:modelValue":t[7]||(t[7]=s=>o.ageGroups.elderly=s),required:""},null,8,["modelValue"])])]),l(w,{class:"mt-2",onClick:_.updateSettings,disabled:o.processing||o.formError},{default:G(()=>[Y("Save")]),_:1},8,["onClick","disabled"]),o.response.message.length>0?(i(),n("p",{key:0,class:F(`${o.response.errors===!0?"text-red-500":"text-green-500"}`)},b(o.response.message),3)):v("",!0)],64)}const we=E(I,[["render",fe]]);export{we as default};
