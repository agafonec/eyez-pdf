import{_ as D}from"./PrimaryButton-fe97584e.js";import{_ as A}from"./Checkbox-f5e01bce.js";import{_ as O,a as G}from"./TextInput-923bd9c3.js";import{D as U}from"./index-29a1bed1.js";import"./moment-fbc5633a.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{r as h,o as i,c as n,b as e,F as y,e as k,a as l,w as C,n as W,t as _,f as S,d as Y}from"./app-94e5449d.js";const T={name:"WorkingDays",components:{PrimaryButton:D,Checkbox:A,InputLabel:O,TextInput:G,DatePicker:U},props:{user:[Object],stores:[Object,Array],settings:[Object,Array]},data(){var d,s,u,c;return{processing:!1,hiddenStores:((d=this.settings)==null?void 0:d.hiddenStores)??[],workDays:((s=this.settings)==null?void 0:s.workdays)??[],hideAgeDescription:((u=this.settings)==null?void 0:u.hideAgeDescription)??!1,storesSettings:this.getStoreSettings(this.stores),ageGroups:((c=this.settings)==null?void 0:c.ageGroups)??{earlyYouth:"Early Youth",youth:"Youth",middleAge:"Middle Age",middleOld:"Middle Old",elderly:"Elderly"},response:{errors:!1,message:""}}},methods:{getStoreSettings(d){return d.map(s=>{var c,o;s.settings=s.settings??{daysoff:null,workdays:null};let u=[];return this.days.forEach((f,m)=>{u.push({dayOfWeek:m,timeStart:new Date().setHours(0,0,0,0),timeEnd:new Date().setHours(23,59,59,999)})}),s.settings.daysoff=((c=s.settings)==null?void 0:c.daysoff)??[],s.settings.workdays=((o=s.settings)==null?void 0:o.workdays)??u,s})},saveWorkingDays(){this.processing=!0,this.response.message="",axios.post(route("profile.settings.update"),{storesSettings:this.storesSettings,ageGroups:this.ageGroups,hideAgeDescription:this.hideAgeDescription,hiddenStores:this.hiddenStores,user:this.user}).then(d=>{this.processing=!1,this.response=d.data})},updateDays(d,s){d.settings.daysoff.includes(s)?d.settings.daysoff.splice(d.settings.daysoff.indexOf(s),1):d.settings.daysoff.push(s)},updateHiddenStores(d){this.hiddenStores.includes(d)?this.hiddenStores.splice(this.hiddenStores.indexOf(d),1):this.hiddenStores.push(d)}},setup(){return{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}},B=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900"},"Hide Stores for user")],-1),I={class:"flex items-center gap-4 mt-4"},H={class:"flex items-center"},q={class:"ms-2 text-sm text-gray-600"},L={class:"flex gap-x-10 flex-wrap"},M=e("header",{class:"w-full mt-8"},[e("h1",{class:"text-lg font-medium text-gray-900"},"Select your working days and time."),e("p",{class:"mt-1 text-sm text-gray-600"}," Everything that will be disabled will not be counted in dashboard. ")],-1),j={class:"mt-8"},F={class:"text-xl font-bold text-gray-900"},N=e("div",{class:"text-md font-medium text-gray-900"},"Schedule",-1),P={class:"gap-4 mt-4 w-auto"},z={class:"grid grid-cols-3 w-max gap-2 items-center mb-2"},J={class:"flex items-center col-span-1"},K={class:"ms-2 text-sm text-gray-600"},Q={class:"grid grid-cols-2 gap-4 mb-4 col-span-2 relative",style:{direction:"ltr"}},R={key:0,class:"absolute flex items-center justify-center col-span-2 opacity-80 left-0 top-0 w-full h-full z-20 bg-white font-semibold text-red-700"},X={class:"text-center"},Z=e("div",{class:"font-semibold"},"From time",-1),$={class:"text-center"},ee=e("div",{class:"font-semibold"},"To time",-1),se=e("header",{class:"mt-8"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Title for age groups."),e("p",{class:"mt-1 text-sm text-gray-600"}," Change the titles for age groups in dount chart. ")],-1),te={class:"max-w-lg mt-4"},oe={class:"flex items-center mb-4"},de=e("span",{class:"ms-2 text-sm text-gray-600"},"Hide age description. (age range)",-1),le={class:"mb-2"},ie={class:"mb-2"},ne={class:"mb-2"},ae={class:"mb-2"},re={class:"mb-2"};function ue(d,s,u,c,o,f){const m=h("Checkbox"),b=h("date-picker"),p=h("InputLabel"),g=h("TextInput"),w=h("PrimaryButton");return i(),n(y,null,[B,e("div",I,[(i(!0),n(y,null,k(u.stores,(t,V)=>(i(),n("label",H,[l(m,{name:"hidden_stores","onUpdate:checked":v=>f.updateHiddenStores(t.dep_id),value:t.dep_id,checked:o.hiddenStores.includes(t.dep_id)},null,8,["onUpdate:checked","value","checked"]),e("span",q,_(t.name),1)]))),256))]),e("div",L,[M,(i(!0),n(y,null,k(o.storesSettings,(t,V)=>(i(),n("div",null,[e("header",j,[e("h2",F,_(t.name),1),N]),e("div",P,[(i(!0),n(y,null,k(c.days,(v,a)=>(i(),n("div",z,[e("label",J,[l(m,{name:"off_days","onUpdate:checked":r=>f.updateDays(t,a),value:a,checked:!t.settings.daysoff.includes(a)},null,8,["onUpdate:checked","value","checked"]),e("span",K,_(v),1)]),e("div",Q,[t.settings.daysoff.includes(a)?(i(),n("div",R,"DISABLED")):S("",!0),e("div",X,[Z,l(b,{modelValue:t.settings.workdays.find(r=>r.dayOfWeek===a).timeStart,"onUpdate:modelValue":r=>t.settings.workdays.find(x=>x.dayOfWeek===a).timeStart=r,mode:"time",is24hr:""},null,8,["modelValue","onUpdate:modelValue"])]),e("div",$,[ee,l(b,{modelValue:t.settings.workdays.find(r=>r.dayOfWeek===a).timeEnd,"onUpdate:modelValue":r=>t.settings.workdays.find(x=>x.dayOfWeek===a).timeEnd=r,mode:"time",is24hr:""},null,8,["modelValue","onUpdate:modelValue"])])])]))),256))])]))),256))]),se,e("div",te,[e("label",oe,[l(m,{name:"hide_age_description","onUpdate:checked":s[0]||(s[0]=t=>o.hideAgeDescription=!o.hideAgeDescription),checked:o.hideAgeDescription},null,8,["checked"]),de]),e("div",le,[l(p,{for:"earlyYouth",value:"Early Youth"}),l(g,{id:"earlyYouth",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.earlyYouth,"onUpdate:modelValue":s[1]||(s[1]=t=>o.ageGroups.earlyYouth=t),required:""},null,8,["modelValue"])]),e("div",ie,[l(p,{for:"youth",value:"Youth"}),l(g,{id:"youth",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.youth,"onUpdate:modelValue":s[2]||(s[2]=t=>o.ageGroups.youth=t),required:""},null,8,["modelValue"])]),e("div",ne,[l(p,{for:"middleAge",value:"Middle Age"}),l(g,{id:"middleAge",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.middleAge,"onUpdate:modelValue":s[3]||(s[3]=t=>o.ageGroups.middleAge=t),required:""},null,8,["modelValue"])]),e("div",ae,[l(p,{for:"middleAge",value:"Middle Old"}),l(g,{id:"middleOld",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.middleOld,"onUpdate:modelValue":s[4]||(s[4]=t=>o.ageGroups.middleOld=t),required:""},null,8,["modelValue"])]),e("div",re,[l(p,{for:"elderly",value:"Elderly"}),l(g,{id:"elderly",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.elderly,"onUpdate:modelValue":s[5]||(s[5]=t=>o.ageGroups.elderly=t),required:""},null,8,["modelValue"])])]),l(w,{class:"mt-2",onClick:f.saveWorkingDays,disabled:o.processing},{default:C(()=>[Y("Save")]),_:1},8,["onClick","disabled"]),o.response.message.length>0?(i(),n("p",{key:0,class:W(`${o.response.errors===!0?"text-red-500":"text-green-500"}`)},_(o.response.message),3)):S("",!0)],64)}const _e=E(T,[["render",ue]]);export{_e as default};
