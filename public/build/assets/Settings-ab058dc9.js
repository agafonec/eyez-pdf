import{_ as O}from"./PrimaryButton-253e72bc.js";import{_ as G}from"./Checkbox-21545263.js";import{_ as D,a as U}from"./TextInput-1f203070.js";import{D as A}from"./index-6a41fbe5.js";import"./moment-fbc5633a.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{r as p,o as a,c as n,b as e,F as f,e as k,a as d,w as C,n as W,t as _,f as S,d as Y}from"./app-926aa11d.js";const T={name:"WorkingDays",components:{PrimaryButton:O,Checkbox:G,InputLabel:D,TextInput:U,DatePicker:A},props:{user:[Object],stores:[Object,Array],settings:[Object,Array]},data(){var l,s,u;return{processing:!1,hiddenStores:((l=this.settings)==null?void 0:l.hiddenStores)??[],workDays:((s=this.settings)==null?void 0:s.workdays)??[],storesSettings:this.getStoreSettings(this.stores),ageGroups:((u=this.settings)==null?void 0:u.ageGroups)??{earlyYouth:"Early Youth",youth:"Youth",middleAge:"Middle Age",middleOld:"Middle Old",elderly:"Elderly"},response:{errors:!1,message:""}}},methods:{getStoreSettings(l){return l.map(s=>{var g,o;s.settings=s.settings??{daysoff:null,workdays:null};let u=[];return this.days.forEach((h,y)=>{u.push({dayOfWeek:y,timeStart:new Date().setHours(0,0,0,0),timeEnd:new Date().setHours(23,59,59,999)})}),s.settings.daysoff=((g=s.settings)==null?void 0:g.daysoff)??[],s.settings.workdays=((o=s.settings)==null?void 0:o.workdays)??u,s})},saveWorkingDays(){this.processing=!0,this.response.message="",axios.post(route("profile.settings.update"),{storesSettings:this.storesSettings,ageGroups:this.ageGroups,hiddenStores:this.hiddenStores,user:this.user}).then(l=>{this.processing=!1,this.response=l.data})},updateDays(l,s){l.settings.daysoff.includes(s)?l.settings.daysoff.splice(l.settings.daysoff.indexOf(s),1):l.settings.daysoff.push(s)},updateHiddenStores(l){this.hiddenStores.includes(l)?this.hiddenStores.splice(this.hiddenStores.indexOf(l),1):this.hiddenStores.push(l)}},setup(){return{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}},B=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900"},"Hide Stores for user")],-1),I={class:"flex items-center gap-4 mt-4"},q={class:"flex items-center"},H={class:"ms-2 text-sm text-gray-600"},L={class:"flex gap-x-10 flex-wrap"},M=e("header",{class:"w-full mt-8"},[e("h1",{class:"text-lg font-medium text-gray-900"},"Select your working days and time."),e("p",{class:"mt-1 text-sm text-gray-600"}," Everything that will be disabled will not be counted in dashboard. ")],-1),j={class:"mt-8"},F={class:"text-xl font-bold text-gray-900"},N=e("div",{class:"text-md font-medium text-gray-900"},"Schedule",-1),P={class:"gap-4 mt-4 w-auto"},z={class:"grid grid-cols-3 w-max gap-2 items-center mb-2"},J={class:"flex items-center col-span-1"},K={class:"ms-2 text-sm text-gray-600"},Q={class:"grid grid-cols-2 gap-4 mb-4 col-span-2 relative",style:{direction:"ltr"}},R={key:0,class:"absolute flex items-center justify-center col-span-2 opacity-80 left-0 top-0 w-full h-full z-20 bg-white font-semibold text-red-700"},X={class:"text-center"},Z=e("div",{class:"font-semibold"},"From time",-1),$={class:"text-center"},ee=e("div",{class:"font-semibold"},"To time",-1),se=e("header",{class:"mt-8"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Title for age groups."),e("p",{class:"mt-1 text-sm text-gray-600"}," Change the titles for age groups in dount chart. ")],-1),te={class:"max-w-lg mt-4"},oe={class:"mb-2"},le={class:"mb-2"},de={class:"mb-2"},ae={class:"mb-2"},ne={class:"mb-2"};function ie(l,s,u,g,o,h){const y=p("Checkbox"),v=p("date-picker"),c=p("InputLabel"),m=p("TextInput"),w=p("PrimaryButton");return a(),n(f,null,[B,e("div",I,[(a(!0),n(f,null,k(u.stores,(t,V)=>(a(),n("label",q,[d(y,{name:"hidden_stores","onUpdate:checked":b=>h.updateHiddenStores(t.dep_id),value:t.dep_id,checked:o.hiddenStores.includes(t.dep_id)},null,8,["onUpdate:checked","value","checked"]),e("span",H,_(t.name),1)]))),256))]),e("div",L,[M,(a(!0),n(f,null,k(o.storesSettings,(t,V)=>(a(),n("div",null,[e("header",j,[e("h2",F,_(t.name),1),N]),e("div",P,[(a(!0),n(f,null,k(g.days,(b,i)=>(a(),n("div",z,[e("label",J,[d(y,{name:"off_days","onUpdate:checked":r=>h.updateDays(t,i),value:i,checked:!t.settings.daysoff.includes(i)},null,8,["onUpdate:checked","value","checked"]),e("span",K,_(b),1)]),e("div",Q,[t.settings.daysoff.includes(i)?(a(),n("div",R,"DISABLED")):S("",!0),e("div",X,[Z,d(v,{modelValue:t.settings.workdays.find(r=>r.dayOfWeek===i).timeStart,"onUpdate:modelValue":r=>t.settings.workdays.find(x=>x.dayOfWeek===i).timeStart=r,mode:"time",is24hr:""},null,8,["modelValue","onUpdate:modelValue"])]),e("div",$,[ee,d(v,{modelValue:t.settings.workdays.find(r=>r.dayOfWeek===i).timeEnd,"onUpdate:modelValue":r=>t.settings.workdays.find(x=>x.dayOfWeek===i).timeEnd=r,mode:"time",is24hr:""},null,8,["modelValue","onUpdate:modelValue"])])])]))),256))])]))),256))]),se,e("div",te,[e("div",oe,[d(c,{for:"earlyYouth",value:"Early Youth"}),d(m,{id:"earlyYouth",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.earlyYouth,"onUpdate:modelValue":s[0]||(s[0]=t=>o.ageGroups.earlyYouth=t),required:""},null,8,["modelValue"])]),e("div",le,[d(c,{for:"youth",value:"Youth"}),d(m,{id:"youth",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.youth,"onUpdate:modelValue":s[1]||(s[1]=t=>o.ageGroups.youth=t),required:""},null,8,["modelValue"])]),e("div",de,[d(c,{for:"middleAge",value:"Middle Age"}),d(m,{id:"middleAge",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.middleAge,"onUpdate:modelValue":s[2]||(s[2]=t=>o.ageGroups.middleAge=t),required:""},null,8,["modelValue"])]),e("div",ae,[d(c,{for:"middleAge",value:"Middle Old"}),d(m,{id:"middleOld",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.middleOld,"onUpdate:modelValue":s[3]||(s[3]=t=>o.ageGroups.middleOld=t),required:""},null,8,["modelValue"])]),e("div",ne,[d(c,{for:"elderly",value:"Elderly"}),d(m,{id:"elderly",type:"text",class:"mt-1 block w-full",modelValue:o.ageGroups.elderly,"onUpdate:modelValue":s[4]||(s[4]=t=>o.ageGroups.elderly=t),required:""},null,8,["modelValue"])])]),d(w,{class:"mt-2",onClick:h.saveWorkingDays,disabled:o.processing},{default:C(()=>[Y("Save")]),_:1},8,["onClick","disabled"]),o.response.message.length>0?(a(),n("p",{key:0,class:W(`${o.response.errors===!0?"text-red-500":"text-green-500"}`)},_(o.response.message),3)):S("",!0)],64)}const ye=E(T,[["render",ie]]);export{ye as default};
